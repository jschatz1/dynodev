"use strict";
module.exports = (sequelize, DataTypes) => {
  const <%- name %> = sequelize.define(
    "<%- name %>",
    {
      <%_ properties.forEach(function(prop){ -%>
      <%- prop.name -%>: {
        <% if(prop.type.toLowerCase() === "email"){ -%>
        type: DataTypes.STRING,
        <%_ } else { -%>
        type: DataTypes.<%- prop.type.toUpperCase() %>,
        <%_ } %>
        unique: <%- prop.unique %>,
        allowNull: <%- prop.nullable %>,
      },
    <% }); %>},
    {}
  );
  <%- name %>.associate = function (models) {
    models.<%- name %>.belongsTo(models.User, {
      onDelete: "CASCADE",
      onUpdate: "CASCADE",
      foreignKey: {
        allowNull: false,
      },
    });
  };
  return <%- name %>;
};
